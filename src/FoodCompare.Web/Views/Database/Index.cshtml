<h2>Database Utils</h2>

<h3>Export</h3>

@using (Html.BeginForm("Tags", "Export")) {
  <button class="btn">Export <strong>Tags</strong></button>
}

@using (Html.BeginForm("Foods", "Export")) {
  <button class="btn">Export <strong>Foods</strong></button>
}

@using (Html.BeginForm("Scraps", "Export")) {
  <button class="btn">Export <strong>Scraps</strong></button>
}

<h3>Import</h3>

@using (Html.BeginForm("Tags", "Import", method: FormMethod.Post, htmlAttributes: new { enctype = "multipart/form-data" })) {
  <label for="TagsFile">Tags</label>
  <button id="TagsFile" class="btn file-button">Choose File</button>
  <input class="hide" name="file" type="file"/>
  <button class="btn file-submit" disabled="disabled">Import <strong></strong></button>
}

@using (Html.BeginForm("Foods", "Import", method: FormMethod.Post, htmlAttributes: new { enctype = "multipart/form-data" })) {
  <label for="PostsFile">Foods</label>
  <button id="PostsFile" class="btn file-button">Choose File</button>
  <input class="hide" name="file" type="file"/>
  <button class="btn file-submit" disabled="disabled">Import <strong></strong></button>
}

@using (Html.BeginForm("Scraps", "Import", method: FormMethod.Post, htmlAttributes: new { enctype = "multipart/form-data" })) {
  <label for="ScrapsFile">Scraps</label>
  <button id="ScrapsFile" class="btn file-button">Choose File</button>
  <input class="hide" name="file" type="file"/>
  <button class="btn file-submit" disabled="disabled">Import <strong></strong></button>
}

<h3>Clear Database</h3>

@using (Html.BeginForm("Clear", "Database")) {
  <button class="btn">Clear Database</button>
}

@section script {
<script>
  $('.file-button').on('click', function(e) {
    e.preventDefault();
    $(this).siblings('input[type=file]').trigger('click');
  });

  $('input[type=file]').change(function() {
    $(this).siblings('.file-submit')
      .prop('disabled', false)
      .find('strong').text(this.files[0].name);
  });
</script>
}
